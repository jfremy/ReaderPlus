<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Google Reader Plus background page</title>
    <script type="text/javascript" src="../js/store.js"></script>
    <script type="text/javascript">
        var defaultSettings = {
            'sensibility': 0.3
        };
        var settings = new Store("settings", defaultSettings);

        chrome.extension.onRequest.addListener(
                function(request, sender, sendResponse) {
                    if(!request || !request.hasOwnProperty("type")) {
                        sendResponse("Invalid query");
                    }
                    if (request.type == "getSensibility")
                        sendResponse(settings.get("sensibility"));
                    else if(request.type = "setSensibility" && request.hasOwnProperty("val")) {
                        settings.set("sensibility", request.val);
                    } else {
                        sendResponse("Failed"); // snub them.
                    }
                });
    </script>
</head>
<body>

</body>
</html>